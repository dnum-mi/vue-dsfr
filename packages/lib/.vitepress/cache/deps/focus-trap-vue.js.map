{
  "version": 3,
  "sources": ["../../../../../node_modules/.pnpm/focus-trap-vue@4.0.3_focus-trap@7.6.4_vue@3.5.13_typescript@5.7.3_/node_modules/focus-trap-vue/dist/focus-trap-vue.esm-browser.js"],
  "sourcesContent": ["/*!\n  * focus-trap-vue v4.0.2\n  * (c) 2023 Eduardo San Martin Morote\n  * @license MIT\n  */\nimport { defineComponent, ref, computed, onMounted, watch, onUnmounted, Comment, cloneVNode } from 'vue';\nimport { createFocusTrap } from 'focus-trap';\n\nfunction defineFocusTrapProps(props) {\n    return props;\n}\nconst FocusTrapProps = defineFocusTrapProps({\n    escapeDeactivates: {\n        type: Boolean,\n        default: true,\n    },\n    returnFocusOnDeactivate: {\n        type: Boolean,\n        default: true,\n    },\n    allowOutsideClick: {\n        type: [Boolean, Function],\n        default: true,\n    },\n    clickOutsideDeactivates: [Boolean, Function],\n    initialFocus: [String, Function, Boolean],\n    fallbackFocus: [String, Function],\n    checkCanFocusTrap: Function,\n    checkCanReturnFocus: Function,\n    delayInitialFocus: {\n        type: Boolean,\n        default: true,\n    },\n    document: Object,\n    preventScroll: Boolean,\n    setReturnFocus: [Object, String, Boolean, Function],\n    tabbableOptions: Object,\n});\nconst FocusTrap = defineComponent({\n    props: Object.assign({\n        active: {\n            // TODO: could be options for activate but what about the options for deactivating?\n            type: Boolean,\n            default: true,\n        },\n    }, FocusTrapProps),\n    emits: [\n        'update:active',\n        'activate',\n        'postActivate',\n        'deactivate',\n        'postDeactivate',\n    ],\n    render() {\n        return this.renderImpl();\n    },\n    setup(props, { slots, emit }) {\n        let trap;\n        const wrapperEl = ref(null);\n        const el = computed(() => {\n            const innerElement = wrapperEl.value;\n            return (innerElement &&\n                (innerElement instanceof HTMLElement\n                    ? innerElement\n                    : innerElement.$el));\n        });\n        function ensureTrap() {\n            if (trap) {\n                return trap;\n            }\n            return (trap = createFocusTrap(el.value, {\n                escapeDeactivates: props.escapeDeactivates,\n                allowOutsideClick: props.allowOutsideClick,\n                returnFocusOnDeactivate: props.returnFocusOnDeactivate,\n                clickOutsideDeactivates: props.clickOutsideDeactivates,\n                onActivate: () => {\n                    emit('update:active', true);\n                    emit('activate');\n                },\n                onDeactivate: () => {\n                    emit('update:active', false);\n                    emit('deactivate');\n                },\n                onPostActivate: () => emit('postActivate'),\n                onPostDeactivate: () => emit('postDeactivate'),\n                initialFocus: props.initialFocus,\n                fallbackFocus: props.fallbackFocus,\n                tabbableOptions: props.tabbableOptions,\n                delayInitialFocus: props.delayInitialFocus,\n                preventScroll: props.preventScroll,\n            }));\n        }\n        onMounted(() => {\n            watch(() => props.active, active => {\n                if (active && el.value) {\n                    // has no effect if already activated\n                    ensureTrap().activate();\n                }\n                else if (trap) {\n                    trap.deactivate();\n                    // this allows v-if blocks to work by invalidating the trap\n                    // and forcing a new one to be created\n                    if (!el.value || el.value.nodeType === Node.COMMENT_NODE) {\n                        trap = null;\n                    }\n                }\n            }, { immediate: true, flush: 'post' });\n        });\n        onUnmounted(() => {\n            if (trap)\n                trap.deactivate();\n            trap = null;\n        });\n        // Use object-return for setup so that we can expose the 'activate'\n        // and 'deactivate' methods without making use of the 'expose({ ... })'\n        // method as the ExposeProxy system is problematic for users migrating\n        // from Vue2 -> Vue3 due to the ExposeProxy (correctly) preventing child\n        // components from reading the internal state of their $parent. This is\n        // problematic for migrating users because the the Vue2-based VueRouter\n        // _requires_ that functionality as it does $parent._routerRoot to set\n        // the $router and $route properties on components.\n        return {\n            activate() {\n                ensureTrap().activate();\n            },\n            deactivate() {\n                trap && trap.deactivate();\n            },\n            renderImpl() {\n                if (!slots.default)\n                    return null;\n                const vNodes = slots.default().filter(vnode => vnode.type !== Comment);\n                if (!vNodes || !vNodes.length || vNodes.length > 1) {\n                    {\n                        console.error('[focus-trap-vue]: FocusTrap requires exactly one child.');\n                    }\n                    return vNodes;\n                }\n                const vnode = cloneVNode(vNodes[0], { ref: wrapperEl });\n                return vnode;\n            },\n        };\n    },\n});\n\nexport { FocusTrap };\n"],
  "mappings": "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",
  "names": ["vnode"]
}
